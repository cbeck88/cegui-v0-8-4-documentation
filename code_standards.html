<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Crazy Eddie&#39;s GUI System: Coding Standards in use for CEGUI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Crazy Eddie&#39;s GUI System
   &#160;<span id="projectnumber">0.8.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('code_standards.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Coding Standards in use for <a class="el" href="namespaceCEGUI.html" title="Main namespace for Crazy Eddie&#39;s GUI Library. ">CEGUI</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Paul D Turner</dd></dl>
<p>This page details the coding standards and general style that should be employed when working on code for the <a class="el" href="namespaceCEGUI.html" title="Main namespace for Crazy Eddie&#39;s GUI Library. ">CEGUI</a> project. I am well aware that some of the existing code does not comply with these standards; though all new code should now be written to comply, and older code will be migrated over a period of time.</p>
<h1><a class="anchor" id="code_standards_sec_1"></a>
Files</h1>
<p>Here we describe the requirements relating to files; their naming, layout and arrangement on disk.</p>
<h2><a class="anchor" id="code_standards_sec_1_1"></a>
Naming and Directory Layout</h2>
<p>This section contains some general guidelines on naming and arranging files.</p>
<ul>
<li>The source code in general exists in two groups; the library code itself, and code for the sample browser and sample application modules:<ul>
<li>The library code, beneath the <b>cegui</b> directory, is contained within dual directory trees - one beneath the <b>src</b> directory to contain all the implementation .cpp files, and one beneath the <b>include/CEGUI</b> directory to contain all the header .h files. Within these directories, there is a seperate subdirectory for each group of modules or subcomponents within the system. For example there are subdirectories for <b>RendererModules</b> and <b>XMLParserModules</b> to hold the renderer module code and XML parser module code respectively; these directories then have further subdirectories for each individual module.</li>
<li>The sample code, beneath the <b>samples</b> directory, has individual directories for each sample application. The implementation and header files for the sample should both appear together in this directory; there should be no separate <b>src</b> and <b>include</b> subdirectories for the samples.</li>
</ul>
</li>
<li>File names should not contain spaces, although the use of the underscore is acceptable where neccessary.</li>
<li>File names should the initial letter of each word captialised.</li>
<li>Files should generally be named after the class or module to which they relate. For example, the file <b>MyClass.h</b> would be the main header for the class named <b>MyClass</b>.</li>
<li>Source files within <a class="el" href="namespaceCEGUI.html" title="Main namespace for Crazy Eddie&#39;s GUI Library. ">CEGUI</a> should use the following convention:<ul>
<li>C++ header files should have the <b></b>.h file extension.</li>
<li>C++ source files should have the <b></b>.cpp file extension.</li>
<li>Lua source files should have the <b></b>.lua file extension.</li>
<li>Extra Doxygen documentation files should have the <b></b>.dox file extentsion.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="code_standards_sec_1_2"></a>
General Structure and Layout</h2>
<ul>
<li>All source files are required to have the basic file header that can bee seen in existing files. The information in the header is the filename, the date the file was created, the name and email address of the person who created the file, and the standard copyright/license notice as follows: <div class="fragment"><div class="line"><span class="comment">/*******************************************************************************</span></div>
<div class="line"><span class="comment">    Filename: &lt;name of the file, including extension&gt;</span></div>
<div class="line"><span class="comment">    Created:  &lt;date the file was created&gt;</span></div>
<div class="line"><span class="comment">    Author:   &lt;name and email of the original file author&gt;</span></div>
<div class="line"><span class="comment">                                                                              */</span></div>
<div class="line"><span class="comment">/***************************************************************************</span></div>
<div class="line"><span class="comment"> *   Copyright (C) 2004 - 2013 Paul D Turner &amp; The CEGUI Development Team</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment"> *   Permission is hereby granted, free of charge, to any person obtaining</span></div>
<div class="line"><span class="comment"> *   a copy of this software and associated documentation files (the</span></div>
<div class="line"><span class="comment"> *   &quot;Software&quot;), to deal in the Software without restriction, including</span></div>
<div class="line"><span class="comment"> *   without limitation the rights to use, copy, modify, merge, publish,</span></div>
<div class="line"><span class="comment"> *   distribute, sublicense, and/or sell copies of the Software, and to</span></div>
<div class="line"><span class="comment"> *   permit persons to whom the Software is furnished to do so, subject to</span></div>
<div class="line"><span class="comment"> *   the following conditions:</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment"> *   The above copyright notice and this permission notice shall be</span></div>
<div class="line"><span class="comment"> *   included in all copies or substantial portions of the Software.</span></div>
<div class="line"><span class="comment">  </span></div>
<div class="line"><span class="comment"> *   THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</span></div>
<div class="line"><span class="comment"> *   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</span></div>
<div class="line"><span class="comment"> *   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.</span></div>
<div class="line"><span class="comment"> *   IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR</span></div>
<div class="line"><span class="comment"> *   OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,</span></div>
<div class="line"><span class="comment"> *   ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</span></div>
<div class="line"><span class="comment"> *   OTHER DEALINGS IN THE SOFTWARE.</span></div>
<div class="line"><span class="comment">                                                                           */</span></div>
</div><!-- fragment --></li>
<li>All header files should have include guards implemented via preprocessor <code>#ifdef/#endif</code> commands. We do not want any pragma rubbish used for this as it's worse than useless as far as being portable goes. The macro used to control the header should be based upon the filename.</li>
<li>Please ensure that all files have a newline at the end of them. Depending upon the layout of included files and various other things, not having a newline has the potential to cause code not to compile correctly - especially in relation to headers. Plus it gives loads of annoying warnings on some compilers :)</li>
<li>Wherever possible preprocessor macros should <em>not be used</em>. Always prefer the use of an actual language construct (such as typedef or enum) over a preprocessor <code>#define</code>.</li>
<li>Wherever possible header files should contain Doxygen documentation for all classes, data and functions. There will be <em>very few</em>, if any, exceptions to this rule.</li>
<li>In source files, definitions of the various data groups and each member function should be separated by a line, thus: <div class="fragment"><div class="line"><span class="comment">//----------------------------------------------------------------------------//</span></div>
</div><!-- fragment --></li>
<li>Implementation code belongs in the implementation .cpp files, not in the header files. There are very few cases, such as for template implementation, where c++ code should appear in header files.</li>
<li>The general content of a header file should be in the following order:<ul>
<li>File header.</li>
<li>Include guard.</li>
<li>#include statements (grouped according to library where appropriate).</li>
<li>Preprocessor macro defines (especially try to avoid these in headers).</li>
<li>Class forward references.</li>
<li>Global declarations.</li>
<li>Class declarations.</li>
<li>Code implementaions - for example, for templatised functions.</li>
</ul>
</li>
<li>The general content of a source file should be in the following order:<ul>
<li>File header.</li>
<li>#include statements (grouped according to library where appropriate).</li>
<li>Preprocessor macro defines (avoid where possible).</li>
<li>Global definitions.</li>
<li>Class static data definitions.</li>
<li>Class member function definitions.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="code_standards_sec_2"></a>
Code Style and Layout</h1>
<p>The following details the general code style and layout that should be used.</p>
<h2><a class="anchor" id="code_standards_sec_2_1"></a>
Naming Conventions for Types, Variables, Members and Constants</h2>
<ul>
<li>Preprocessor macro names should be all upper case with words separated by the underscore character. Wherever possible, do not use preprocessor macros. A general exception to this particular rule is the name of include guards which may have case matching that of the header filename.</li>
<li>All types (namespaces, classes, structs, typedefs and enums) should have descriptive names and use PascalCase; where each word of the name is capitalised - such as in <b>MyClass</b>.</li>
<li>Constants should be all upper case with words separated by an underscore, such as in <b>THIS_IS_CONSTANT</b>. Please note that this rule does also apply to class member constants and enumeration values.</li>
<li>Global variables should use camel case; where each word in the name is capitalised except the first word. Globals should be prefixed with <b>G_</b>. So if we had a global we want to call 'nastyVariable' it should be named <b>G_nastyVariable</b> - yes, it looks horrible, and hopefully it's horrible enough that you find another way!</li>
<li>Class member variables should be camel case; where each word in the name is capitalised except the first word, such as in <b>thisVariable</b>. Normal members should have the prefix <b>d_</b> (for data, don't ask!), such as in <b>d_thisVariable</b>, while static members should have the prefix <b>s_</b>, such as in <b>s_anotherVariable</b>.</li>
<li>Class member functions should be camel case; where each word in the name is capitalised except the first word, such as in <b>theFunction</b>. Member functions do not use prefixes.</li>
<li>Local variables in functions should be all lower case with an underscore between words, such as in <b>word_count</b>.</li>
<li>Parameter names are treated the same as other local variables, so should be named all lower case with an underscore between words, such as in <b>char_count</b>.</li>
</ul>
<h2><a class="anchor" id="code_standards_sec_2_2"></a>
Code Formatting Style and Other Tips</h2>
<ul>
<li>Generally speaking no line in any file - whether code or just plain text - should be more than 80 characters long. Long lines are really hard to read and lead to general bad programming practice.</li>
<li>Tab spacing size should be 4. But...</li>
<li>Do not use actual tabs, have your editor insert spaces instead. This is very important.</li>
<li>Code within functions should be split into logical groups by the use of blank lines where appropriate. Generally any control structure (if, while, case, do and so on) should be both preceded and followed by a blank line.</li>
<li>Regarding comments, we prefer well written, self documenting code that requires no comments. However, if it is deemed a comment is needed, write the comment first; always put it before the line or block it pertains to. This helps to ensure the comment indicates the intent of the code that you then write, rather than parrotting what is obvious from the code, which tends to happen when adding comments afterwards - we can already see what the code <em>does</em>, what we're interested in is it's <em>purpose</em>; the why as opposed to the what.</li>
<li>Any and all braces opening a code block should be on their own line, and not attached to the control structure that came before. That is, like this: <div class="fragment"><div class="line"><span class="keywordflow">if</span> (something == 1)</div>
<div class="line">{</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --> but not like this: <div class="fragment"><div class="line"><span class="keywordflow">if</span> (something == 1) {</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>Class declarations should not have the protection level specifiers indented. It should be like this: <div class="fragment"><div class="line"><span class="keyword">class </span>SomeClass</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    SomeClass();</div>
<div class="line">};</div>
</div><!-- fragment --> rather than like this: <div class="fragment"><div class="line"><span class="keyword">class </span>SomeClass</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        SomeClass();</div>
<div class="line">};</div>
</div><!-- fragment --></li>
<li>Namespace content should not be indented; it wastes too much line space. It should be like this: <div class="fragment"><div class="line"><span class="keyword">namespace </span>SomeNamespace</div>
<div class="line">{</div>
<div class="line"><span class="keyword">class </span>SomeClass</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    SomeClass();</div>
</div><!-- fragment --> as opposed to this: <div class="fragment"><div class="line"><span class="keyword">namespace </span>SomeNamespace</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">class </span>SomeClass</div>
<div class="line">    {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        SomeClass();</div>
</div><!-- fragment --></li>
<li>Switch case statements should not be indented, though the case code should. Any required braces should appear in line with the case to which they pertain, such as in: <div class="fragment"><div class="line"><span class="keywordflow">switch</span> (somevar)</div>
<div class="line">{</div>
<div class="line"><span class="keywordflow">case</span> 1:</div>
<div class="line">    x = x + 1;</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">case</span> 2:</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> y = 2;</div>
<div class="line">    x = x + y;</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line">}</div>
<div class="line">}</div>
</div><!-- fragment --> It should not contain anything like you see here: <div class="fragment"><div class="line"><span class="keywordflow">switch</span> (somevar)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">case</span> 1:</div>
<div class="line">        x = x + 1;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> 2:</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">int</span> y = 2;</div>
<div class="line">            x = x + y;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>The general layout of a function definition (in the .cpp source file) should have the return type on the same line, such as this: <div class="fragment"><div class="line">std::string SomeClass::getString(<span class="keyword">const</span> <span class="keywordtype">char</span>* c_str)</div>
<div class="line">{</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>Use of single line code blocks both with or without braces for loop and condition constructs is allowed. Though generally you should prefer the form without braces. <div class="fragment"><div class="line"><span class="comment">// This is preferred</span></div>
<div class="line"><span class="keywordflow">if</span> (something == <span class="keyword">true</span>)</div>
<div class="line">    doSomething();</div>
<div class="line"></div>
<div class="line"><span class="comment">// Though this is fine, also</span></div>
<div class="line"><span class="keywordflow">if</span> (something_else == <span class="keyword">true</span>)</div>
<div class="line">{</div>
<div class="line">    doSomethingElse();</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>Having multiple statements on a single line is not allowed, even for control structures. Each statement should be on its own line. Code should be like this: <div class="fragment"><div class="line"><span class="keywordflow">if</span> (x == 0)</div>
<div class="line">    x = 1;</div>
<div class="line"></div>
<div class="line">x = 2;</div>
<div class="line">x += y;</div>
</div><!-- fragment --> Code should not be like this: <div class="fragment"><div class="line"><span class="keywordflow">if</span> (x == 0) x = 1;</div>
<div class="line"></div>
<div class="line">x = 2; x += y;</div>
</div><!-- fragment --></li>
<li>There should be a space between a control statement and its control expression. Use this: <div class="fragment"><div class="line"><span class="keywordflow">if</span> (something)</div>
<div class="line">    x = y;</div>
</div><!-- fragment --> Not this: <div class="fragment"><div class="line"><span class="keywordflow">if</span>(something)</div>
<div class="line">    x = y;</div>
</div><!-- fragment --></li>
<li>When calling a function, there should be no space between the function name and the parenthesis containing the arguments. So, like this: <div class="fragment"><div class="line">an_object-&gt;callFunction(x, y, x);</div>
</div><!-- fragment --> Not like this: <div class="fragment"><div class="line">an_object-&gt;callFunction (x, y, x);</div>
</div><!-- fragment --></li>
<li>There should generally not be spaces around parenthesis (unless otherwise excepted above). Code should look like this: <div class="fragment"><div class="line">a = calculate((x + y) * z);</div>
</div><!-- fragment --> Not like this: <div class="fragment"><div class="line">a = calculate( ( x + y ) * z );</div>
</div><!-- fragment --></li>
<li>There should be spaces both sides of virtually all operators, except the comma which just has one following it. An example of correct usage is: <div class="fragment"><div class="line">a = calculate((x + y) * z);</div>
<div class="line">b = doSomething(a, x, y);</div>
</div><!-- fragment --> Not anything like these: <div class="fragment"><div class="line">a = calculate((x+y)*z);</div>
<div class="line">b=doSomething(a,x , y);</div>
</div><!-- fragment --></li>
<li>When creating a pointer or reference variable the asterisk or ampersand should be attached to the type name not the variable name. These are correct: <div class="fragment"><div class="line">SomeClass* class_ptr;</div>
<div class="line"></div>
<div class="line">SomeClass&amp; class_ref = an_object;</div>
</div><!-- fragment --> While these are not: <div class="fragment"><div class="line">SomeClass *class_ptr;</div>
<div class="line">AnotherClass * another_ptr;</div>
<div class="line"></div>
<div class="line">SomeClass &amp;class_ref = an_object;</div>
</div><!-- fragment --></li>
<li>When dereferencing a pointer or taking the address of some object, the asterisk or ampersand should be attached to the variable name, like this: <div class="fragment"><div class="line">SomeClass&amp; class_ref = *class_ptr;</div>
<div class="line"></div>
<div class="line">a_ptr = &amp;an_object;</div>
</div><!-- fragment --></li>
<li>String and/or character literals should not appear in production code; use constant definitions instead.</li>
<li>Magic numbers should not appear in production code; use constant definitions instead. In general the only number that may appear in production code is <code>0</code>.</li>
<li>Use of <code>NULL</code> is not allowed; use <code>0</code> instead. <code>NULL</code> is just a macro definition and does not exist in any other form in the C++ language, so it should not be used.</li>
<li>When defining class constructors, use of member initialiser lists is to be strongly preferred over the use of assignments in the constructor body.</li>
<li>Only use C++ style casts. C style casts should not be used. Or better yet, find a way not to use the cast at all!</li>
<li>Do not use any language or STL constructs from C++11. We intend to support non-c++11 compilers for the forseeable future. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jul 7 2014 10:16:39 for Crazy Eddie&#39;s GUI System by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
